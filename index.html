<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <style type="text/css" media="screen">
      #code {
        height: 200px;
        width: 400px;
      }
    </style>
  </head>
  <body>
    <h1>Clojurejs</h1>
    <p>Simple Clojure interpreter written in JavaScript.</p>
    <textarea id="code">(+ 1 2)</textarea> 
    <p><b>Result:</b> <span id="output"></span></p>
    <p>
      <button onclick="javascript:run()">Run</button>
      (Ctrl+Enter)
    </p>
    <script type="text/javascript" src="clojure.min.js"></script>
    <script type="text/javascript" charset="utf-8">
      (function () {
        var input = document.getElementById('code')
          , output = document.getElementById('output')
          ;

        input.focus();
        input.selectionStart = input.value.length;

        window.addEventListener('keydown', function (e) {
          if (e.keyCode === 13 && e.ctrlKey) {
            run();
          }
        });

        function run () {
          var result;

          result = clojurejs.run(input.value);
          output.innerHTML = result;
        };
      })();
    </script>
  </body>
</html>
